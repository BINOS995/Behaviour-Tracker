<html>
<head>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        rel="stylesheet"
        as="style"
        onload="this.rel='stylesheet'"
        href="https://fonts.googleapis.com/css2?display=swap&family=Lexend:wght@400;500;700;900&family=Noto+Sans:wght@400;500;700;900",
         

    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <title>Performance Tracker</title>
    <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<script type="module" src="./homepage.js"></script>
<style>
    table {
        width: 100%;
        border-collapse: collapse;
    }

    th {
        background-color: #6C5CE7; /* Purple header */
        color: white;
        padding: 8px 0;
        border-radius: 6px 6px 0 0;
    }

    td {
        text-align: center;
        padding: 10px;
        cursor: pointer;
    }

    td:hover {
        background-color: #f1f5ff; /* Light blue hover */
        border-radius: 50%;
    }

    .today {
        background-color: #6C5CE7; /* Purple */
        color: white;
        border-radius: 50%;
    }

    .calendar {
        background: linear-gradient(135deg, #f3e8ff 0%, #e0f2fe 100%);
        padding: 24px;
        border-radius: 18px;
        box-shadow: 0px 4px 16px rgba(108, 92, 231, 0.08);
        max-width: 340px;
        margin: auto;
        border: 1px solid #e0e7ff;
    }
    .calendar th {
        background: none;
        color: #6C5CE7;
        font-weight: 700;
        letter-spacing: 0.05em;
    }
    .calendar-cell {
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 2px 6px rgba(108, 92, 231, 0.06);
        transition: background 0.2s, color 0.2s;
        cursor: pointer;
        padding: 12px 0;
        margin: 2px;
        text-align: center;
        font-weight: 500;
        color: #6C5CE7;
    }
    .calendar-cell:hover {
        background: #e0e7ff;
        color: #222;
    }
    .calendar .today {
        background: linear-gradient(90deg, #6C5CE7 60%, #4D96FF 100%);
        color: #fff;
        font-weight: 700;
        box-shadow: 0 4px 12px rgba(76, 149, 255, 0.12);
        border-radius: 12px;
    }
</style>

<body class="bg-[#f8fafc]" style='font-family: Lexend, "Noto Sans", sans-serif;'>
    <div class="flex min-h-screen">
        
        <!-- Sidebar -->
        <aside class="w-80 flex flex-col justify-between bg-white p-4 border-r border-gray-200">
            <div class="flex flex-col gap-4">
                <h1 class="text-gray-800 text-base font-medium">Behaviour Tracker</h1>
                <nav class="flex flex-col gap-2">
                    <!-- Floating Virtual Assistant Button -->
                    <button class="assistant-float-btn" title="Virtual Assistant" style="position: fixed; bottom: 32px; right: 32px; z-index: 1000; background: linear-gradient(135deg, #6a5af9 0%, #00d4ff 100%); box-shadow: 0 4px 16px rgba(106,90,249,0.2); border: none; border-radius: 50%; width: 64px; height: 64px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: box-shadow 0.2s;">
                        <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="12" cy="12" r="10" fill="url(#assistantGradient)"/>
                            <ellipse cx="12" cy="15" rx="5" ry="2.5" fill="#fff" opacity="0.7"/>
                            <circle cx="12" cy="10" r="4" fill="#fff"/>
                            <circle cx="10.5" cy="10" r="0.7" fill="#333"/>
                            <circle cx="13.5" cy="10" r="0.7" fill="#333"/>
                            <path d="M11 12.5c.5.5 1.5.5 2 0" stroke="#333" stroke-width="0.7" stroke-linecap="round"/>
                            <defs>
                                <radialGradient id="assistantGradient" cx="0" cy="0" r="1" gradientTransform="translate(12 12) scale(10)" gradientUnits="userSpaceOnUse">
                                    <stop stop-color="#6a5af9"/>
                                    <stop offset="1" stop-color="#00d4ff"/>
                                </radialGradient>
                            </defs>
                        </svg>
                    </button>
                    <!-- Dashboard -->
                    <button class="flex items-center gap-3 px-3 py-2 text-white bg-purple-500 hover:bg-purple-600 rounded-xl" data-content="Dashboard">
                        <i class="fas fa-home"></i> Dashboard
                    </button>
          
                    <!-- Students & Classes Dropdown -->
                    <div>
                        <button id="studentsDropdownBtn" class="flex items-center justify-between w-full gap-3 px-3 py-2 text-white bg-gradient-to-r from-purple-500 via-blue-400 to-cyan-400 shadow-lg hover:from-purple-600 hover:to-blue-500 rounded-xl font-semibold transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:ring-offset-2" style="box-shadow: 0 4px 16px rgba(106,90,249,0.12);">
                            <span class="flex items-center gap-2">
                                <i class="fas fa-chalkboard-teacher"></i>
                                Classes
                            </span>
                            <span id="dropdownArrow" class="transition-transform duration-200">â–¼</span>
                        </button>
                        <div id="studentsDropdownMenu" class="flex flex-col ml-8 mt-2 p-3 rounded-xl shadow-lg bg-gradient-to-br from-purple-50 to-blue-100 border border-purple-100 transition-all duration-300 hidden">
                            <div>
                                <button id="classesDropdownBtn" class="flex items-center justify-between w-full px-3 py-2 text-gray-800 font-semibold hover:bg-gradient-to-r hover:from-purple-100 hover:to-blue-100 rounded-xl transition-all duration-200">
                                    Classes
                                    <span id="classesArrow">â–¼</span>
                                </button>
                                <div id="classesDropdownMenu" class="flex flex-col ml-6 mt-2 p-2 rounded-lg shadow bg-white border border-gray-100 transition-all duration-300 hidden">
                                    <button class="px-3 py-2 my-1 text-gray-800 font-medium hover:bg-gradient-to-r hover:from-purple-50 hover:to-blue-50 rounded-lg transition-all duration-200" data-content="KG2">KG2</button>
                                    <button class="px-3 py-2 my-1 text-gray-800 font-medium hover:bg-gradient-to-r hover:from-purple-50 hover:to-blue-50 rounded-lg transition-all duration-200" data-content="Grade 1">Grade 1</button>
                                    <button class="px-3 py-2 my-1 text-gray-800 font-medium hover:bg-gradient-to-r hover:from-purple-50 hover:to-blue-50 rounded-lg transition-all duration-200" data-content="Grade 2">Grade 2</button>
                                    <button class="px-3 py-2 my-1 text-gray-800 font-medium hover:bg-gradient-to-r hover:from-purple-50 hover:to-blue-50 rounded-lg transition-all duration-200" data-content="Grade 3">Grade 3</button>
                                    <button class="px-3 py-2 my-1 text-gray-800 font-medium hover:bg-gradient-to-r hover:from-purple-50 hover:to-blue-50 rounded-lg transition-all duration-200" data-content="Grade 4">Grade 4</button>
                                    <button class="px-3 py-2 my-1 text-gray-800 font-medium hover:bg-gradient-to-r hover:from-purple-50 hover:to-blue-50 rounded-lg transition-all duration-200" data-content="Grade 5">Grade 5</button>
                                    <button class="px-3 py-2 my-1 text-gray-800 font-medium hover:bg-gradient-to-r hover:from-purple-50 hover:to-blue-50 rounded-lg transition-all duration-200" data-content="Grade 6">Grade 6</button>
                                    <button class="px-3 py-2 my-1 text-gray-800 font-medium hover:bg-gradient-to-r hover:from-purple-50 hover:to-blue-50 rounded-lg transition-all duration-200" data-content="Grade 7">Grade 7</button>
                                    <button class="px-3 py-2 my-1 text-gray-800 font-medium hover:bg-gradient-to-r hover:from-purple-50 hover:to-blue-50 rounded-lg transition-all duration-200" data-content="Grade 8">Grade 8</button>
                                    <button class="px-3 py-2 my-1 text-gray-800 font-medium hover:bg-gradient-to-r hover:from-purple-50 hover:to-blue-50 rounded-lg transition-all duration-200" data-content="Grade 9">Grade 9</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </nav>
            </div>

            <!-- Logout Button -->
            <div>
                <button class="flex items-center gap-3 px-3 py-2 text-white bg-gradient-to-r from-red-500 via-pink-500 to-purple-500 hover:from-red-600 hover:to-purple-600 shadow-lg rounded-xl transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2" data-content="Logout" id="logout">
                    <span class="inline-block w-6 h-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center mr-2">
                        <i class="fas fa-sign-out-alt text-lg text-white"></i>
                    </span>
                    <span class="font-semibold">Logout</span>
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="flex-1 flex flex-col overflow-y-auto">
            <header class="p-4 border-b border-gray-200 bg-white">
                <h2 class="text-gray-800 text-2xl font-bold" id="content-title">Dashboard</h2>
                <p class="text-gray-500 mt-1 text-lg">
                    ðŸ‘‹ Welcome back, <span id="loggedUserFName"></span>!
                </p>
            </header>
            <section class="p-4 text-gray-800" id="content-display">
                <!-- Default Dashboard Layout -->
                <div id="dashboard-graphs" class="p-6 space-y-6">
                    <!-- Top Row: Bar & Line -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="bg-white rounded-xl shadow-lg p-6 border border-gray-100 flex flex-col items-center justify-center transition-transform duration-200 hover:scale-105">
                            <h4 class="font-semibold mb-4 text-gray-800 text-lg">Bar Graph</h4>
                            <canvas id="bar1" style="max-width: 100%; height: 280px;"></canvas>
                        </div>
                        <div class="bg-white rounded-xl shadow-lg p-6 border border-gray-100 flex flex-col items-center justify-center transition-transform duration-200 hover:scale-105">
                            <h4 class="font-semibold mb-4 text-gray-800 text-lg">Line Graph</h4>
                            <canvas id="line1" style="max-width: 100%; height: 280px;"></canvas>
                        </div>
                    </div>
                </div>

                <div class="calendar mt-6 shadow-lg rounded-2xl overflow-hidden border border-gray-200 bg-gradient-to-br from-purple-50 to-blue-50">
                    <table class="w-full text-sm">
                        <thead>
                            <tr>
                                <th colspan="7" class="bg-purple-600 text-white py-3 text-lg font-bold tracking-wide">August 2025</th>
                            </tr>
                            <tr class="bg-purple-100 text-purple-700">
                                <th class="py-2">Sun</th>
                                <th class="py-2">Mon</th>
                                <th class="py-2">Tue</th>
                                <th class="py-2">Wed</th>
                                <th class="py-2">Thu</th>
                                <th class="py-2">Fri</th>
                                <th class="py-2">Sat</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td class="bg-transparent"></td><td class="bg-transparent"></td><td class="bg-transparent"></td><td class="bg-transparent"></td><td class="calendar-cell">1</td><td class="calendar-cell">2</td><td class="calendar-cell">3</td>
                            </tr>
                            <tr>
                                <td class="calendar-cell">4</td><td class="calendar-cell">5</td><td class="calendar-cell">6</td><td class="calendar-cell">7</td><td class="calendar-cell">8</td><td class="calendar-cell">9</td><td class="calendar-cell">10</td>
                            </tr>
                            <tr>
                                <td class="calendar-cell">11</td><td class="calendar-cell">12</td><td class="calendar-cell">13</td><td class="calendar-cell today">14</td><td class="calendar-cell">15</td><td class="calendar-cell">16</td><td class="calendar-cell">17</td>
                            </tr>
                            <tr>
                                <td class="calendar-cell">18</td><td class="calendar-cell">19</td><td class="calendar-cell">20</td><td class="calendar-cell">21</td><td class="calendar-cell">22</td><td class="calendar-cell">23</td><td class="calendar-cell">24</td>
                            </tr>
                            <tr>
                                <td class="calendar-cell">25</td><td class="calendar-cell">26</td><td class="calendar-cell">27</td><td class="calendar-cell">28</td><td class="calendar-cell">29</td><td class="calendar-cell">30</td><td class="calendar-cell">31</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </main>
    </div>

    <script>
        const tabContent = {
            "Dashboard": document.getElementById("dashboard-graphs").outerHTML,
            "Students": "<iframe src='https://docs.google.com/spreadsheets/d/1qL_8YVFMQkdv03MS-QMf2pAfHUuTjeo-/edit?usp=sharing' width='100%' height='600px'></iframe>",
            "KG2": "<iframe src='https://docs.google.com/spreadsheets/d/1nZ0I5vau6LEW_gcfpmEbvrlccFJSOFdr/edit?usp=sharing' width='100%' height='800px'></iframe>",
            "Grade 1": "<iframe src='https://docs.google.com/spreadsheets/d/14FOzY7rdywZ6e50RXIc1OmaQlgfbKNBH/edit?usp=sharing' width='100%' height='800px'></iframe>",
            "Infractions": "In the Infractions section, you can view and manage student infractions.",
            "Reports": "Generate reports based on student performance and class activities.",
            "Logout": "You have been logged out."
        };

        document.querySelectorAll("aside button").forEach(btn => {
            btn.addEventListener("click", () => {
                const content = btn.getAttribute("data-content");
                if (content) {
                    document.getElementById("content-title").textContent = content;
                    document.getElementById("content-display").innerHTML = tabContent[content] || "Content not available.";
                    if (content === "Dashboard") {
                        loadCharts();
                    }
                }
            });
        });

        document.getElementById("studentsDropdownBtn").addEventListener("click", () => {
            const menu = document.getElementById("studentsDropdownMenu");
            const arrow = document.getElementById("dropdownArrow");
            menu.classList.toggle("hidden");
            arrow.textContent = menu.classList.contains("hidden") ? "â–¼" : "â–²";
        });

        document.getElementById("classesDropdownBtn").addEventListener("click", () => {
            const menu = document.getElementById("classesDropdownMenu");
            const arrow = document.getElementById("classesArrow");
            menu.classList.toggle("hidden");
            arrow.textContent = menu.classList.contains("hidden") ? "â–¼" : "â–²";
        });

        function loadCharts() {
            const ctxBar = document.getElementById("bar1");
            const ctxLine = document.getElementById("line1");
            if (!ctxBar) return;

            new Chart(ctxBar, {
                type: "bar",
                data: {
                    labels: ["A", "B", "C"],
                    datasets: [{
                        label: "Bar Data",
                        data: [12, 19, 3],
                        backgroundColor: ["#FF6B6B", "#6BCB77", "#4D96FF"]
                    }]
                }
            });

            new Chart(ctxLine, {
                type: "line",
                data: {
                    labels: ["Jan", "Feb", "Mar"],
                    datasets: [{
                        label: "Line Data",
                        data: [10, 5, 15],
                        borderColor: "#6C5CE7",
                        backgroundColor: "#6C5CE7",
                        fill: false
                    }]
                }
            });
        }
        loadCharts();
        // Modal logic
        document.addEventListener('DOMContentLoaded', function() {
          const welcomeModal = document.getElementById('welcomeModal');
          const closeWelcomeModal = document.getElementById('closeWelcomeModal');
          if (welcomeModal && closeWelcomeModal) {
            closeWelcomeModal.addEventListener('click', function() {
              welcomeModal.style.display = 'none';
            });
          }
        });
    </script>
    <!-- Welcome Modal -->
    <div id="welcomeModal" class="fixed inset-0 flex items-center justify-center bg-black bg-opacity-40 z-50" style="display: flex;">
    <div class="bg-white rounded-xl shadow-lg p-8 max-w-sm w-full text-center">
    <h3 class="text-2xl font-bold mb-4 text-purple-700">Welcome to Behaviour Tracker</h3>
    <p class="text-gray-700 mb-6">We're glad to have you here!</p>
    <button id="closeWelcomeModal" class="px-6 py-2 bg-purple-500 text-white rounded-xl hover:bg-purple-600">Close</button>
    </div>
    </div>
</body>
</html>


</script>
</body>
</html>

</script>
</body>
</html>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Modern Bar Graph
    new Chart(document.getElementById('bar1').getContext('2d'), {
        type: 'bar',
        data: {
            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
            datasets: [{
                label: 'Performance',
                data: [12, 19, 3, 5, 2, 3, 7],
                backgroundColor: [
                    'rgba(106,90,249,0.8)',
                    'rgba(0,212,255,0.8)',
                    'rgba(76,149,255,0.8)',
                    'rgba(108,92,231,0.8)',
                    'rgba(255,99,132,0.8)',
                    'rgba(255,159,64,0.8)',
                    'rgba(54,162,235,0.8)'
                ],
                borderRadius: 8,
                borderWidth: 2,
                borderColor: 'rgba(255,255,255,0.8)'
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: {
                    display: false
                },
                title: {
                    display: false
                }
            },
            scales: {
                x: {
                    grid: {
                        display: false
                    }
                },
                y: {
                    grid: {
                        color: 'rgba(106,90,249,0.08)'
                    },
                    beginAtZero: true
                }
            }
        }
    });
    // Modern Line Graph
    new Chart(document.getElementById('line1').getContext('2d'), {
        type: 'line',
        data: {
            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
            datasets: [{
                label: 'Trend',
                data: [8, 11, 7, 14, 6, 9, 13],
                fill: true,
                backgroundColor: 'rgba(106,90,249,0.12)',
                borderColor: 'rgba(0,212,255,1)',
                borderWidth: 3,
                pointBackgroundColor: 'rgba(76,149,255,1)',
                pointRadius: 6,
                tension: 0.4
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: {
                    display: false
                },
                title: {
                    display: false
                }
            },
            scales: {
                x: {
                    grid: {
                        display: false
                    }
                },
                y: {
                    grid: {
                        color: 'rgba(0,212,255,0.08)'
                    },
                    beginAtZero: true
                }
            }
        }
    });
});
</script>
</body>
</html>

</script>
</body>
</html>

<a id="sheetLink" href="https://docs.google.com/spreadsheets/d/your-sheet-id" target="_blank" style="display:none;" class="block mt-4 px-4 py-2 bg-gradient-to-r from-green-400 to-blue-500 text-white rounded-xl shadow-lg font-semibold transition-all duration-300 hover:from-green-500 hover:to-blue-600">View Google Sheet</a>
